<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>newfile – New measurement folder creation &#8212; STLab  documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="stlabdict – Data structures and matrices" href="stlabdict.html" />
    <link rel="prev" title="Metagen – Spyview metafile generation" href="metagen.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="stlabdict.html" title="stlabdict – Data structures and matrices"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="metagen.html" title="Metagen – Spyview metafile generation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">STLab  documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="metagen.html"
                        title="previous chapter">Metagen &#8211; Spyview metafile generation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="stlabdict.html"
                        title="next chapter">stlabdict &#8211; Data structures and matrices</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/utils/newfile.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-stlab.utils.newfile">
<span id="newfile-new-measurement-folder-creation"></span><h1>newfile &#8211; New measurement folder creation<a class="headerlink" href="#module-stlab.utils.newfile" title="Permalink to this headline">¶</a></h1>
<p>Method for opening a new file for writing</p>
<p>This module contains a single method used for creating a new datafile.  This method
handles timestamping the measurement folder, keeping track of the index of the measurement
(if desired) and makes backup copies of the previously run scripts for reference.</p>
<dl class="function">
<dt id="stlab.utils.newfile.newfile">
<code class="descclassname">stlab.utils.newfile.</code><code class="descname">newfile</code><span class="sig-paren">(</span><em>prefix</em>, <em>idstring</em>, <em>colnames=None</em>, <em>mypath='./'</em>, <em>usedate=True</em>, <em>usefolder=True</em>, <em>autoindex=False</em>, <em>return_folder_name=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/stlab/utils/newfile.html#newfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#stlab.utils.newfile.newfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new file for storing data.</p>
<p>By default will create a folder (at the location of the running script) with a new file open for writing
and a copy of the script the function was called from.  The naming scheme for the folder is <code class="code docutils literal"><span class="pre">&lt;prefix&gt;_yy_mm_dd_HH.MM.SS_&lt;idstring&gt;</span></code>.
The file is named the same with a &#8221;.dat&#8221; extension.</p>
<p>Generally, if using default options, overwriting an existing file should not happen (date and time will never be exactly equal).
However, if the desired filename already exists, this method will overwrite the old file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>prefix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) &#8211; A string to be placed in front of the timestamp in the filename.  Can be blank or None but must be specified</li>
<li><strong>idstring</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) &#8211; A string to be placed behind the timestamp.  Can also be blank or None but must be specified</li>
<li><strong>colnames</strong> (<em>list of str</em><em>, </em><em>optional</em>) &#8211; Array-like containing column titles for data.  This will be written in the first line of the file delimited by &#8216;, &#8216;.
As an example, if colnames = [&#8216;abc&#8217;, &#8216;def&#8217;, &#8216;ghi&#8217;], the first line in the file will be <code class="code docutils literal"><span class="pre">&quot;#</span> <span class="pre">abc,</span> <span class="pre">def,</span> <span class="pre">ghi\n&quot;</span></code>.  By default is left blank</li>
<li><strong>mypath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>, </em><em>optional</em>) &#8211; Path for folder (or file) creation if pwd is not the desired path.  By default it is pwd.</li>
<li><strong>usedate</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) &#8211; Boolean to include timestamp.  If False, the timestamp is excluded from the file/folder name.  True by default</li>
<li><strong>usefolder</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) &#8211; If set to False the file will be opened at the specified location with the usual naming but with no
subfolder and no copy will be made of the running script.  True by default</li>
<li><strong>autoindex</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a><em>, </em><em>optional</em>) &#8211; Specifies if indexing of successively opened files is desired.  Will add a running index to the prefix of the newly created file/folder.
This will be incremented by 1 for each new file with the same prefix.  If no files are found with the same prefix, it creates the
first file name &lt;prefix&gt;1_yy_mm_dd_HH.MM.SS_&lt;idstring&gt;.  Successive files will be named &lt;prefix&gt;&lt;idx&gt;_yy_mm_dd_HH.MM.SS_&lt;idstring&gt;.
Is False by default.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>myfile</strong> &#8211; Open file handle for writing</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">_io.TextIOWrapper</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="stlabdict.html" title="stlabdict – Data structures and matrices"
             >next</a> |</li>
        <li class="right" >
          <a href="metagen.html" title="Metagen – Spyview metafile generation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">STLab  documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Mark Jenkins.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.6.
    </div>
  </body>
</html>